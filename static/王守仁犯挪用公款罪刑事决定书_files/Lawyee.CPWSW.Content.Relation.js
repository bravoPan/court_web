(function($,window,document,undefined){var Params=function(element,options){this.$element=$(element);this.defaults={data:{Elements:[],TsgkUrl:[],ZxgkUrl:[]}};this.settings=$.extend({},this.defaults,options)};Params.prototype={Init:function(){this.BindData();this.BindEvent()},BindData:function(){var htmlObj=this.BuildHtmlContainer();this.$element.append(htmlObj);return this.$element},BuildHtmlContainer:function(){var $ul=$("<ul></ul>");var $li=$('<li class="attribute"></li>');var $a=$(' <a href="#" class="relation tool_dir_common">关联</a> ');var $divInfo=$('<div class="infor"></div>');var $divIconBottom=$('<div class="icon"><img src="/Assets/img/content/content_directory_spot2.png" /></div>');$divInfo=$divInfo.append(this.BuildHtmlContent().append($divIconBottom));$li=$li.append($a).append($divInfo);$ul=$ul.append($li);return $ul},BuildHtmlContent:function(){var jsonData=this.settings.data;var $container=$('<div class="con"></div>');var $divIconTop=$('<div class="icon"><img src="/Assets/img/content/content_directory_spot2.png" /></div>');$container.append($divIconTop);var eles=jsonData.Elements;if(eles.length>0&&(jsonData.tsgkUrl.length==0&&jsonData.zxgkUrl.length==0)){$("#divTool_Relation").hide()}if($.isArray(eles)&&eles.length>0){var pageType=$("#hidPageType").val();var page="ListBigData";if(pageType!="BIGDATA"){page="List"}for(var j=0;j<eles.length;j++){switch(eles[j]){case"TsgkUrl":var tsgkUrl=jsonData.tsgkUrl;if(tsgkUrl.length>0){var $promptHtml=this.BuildPromptHtml(tsgkUrl,"庭审视频");$container.append($promptHtml)}break;case"ZxgkUrl":var zxgkUrl=jsonData.zxgkUrl;if(zxgkUrl.length>0){var $promptHtml=this.BuildPromptHtml(zxgkUrl,"执行信息");$container.append($promptHtml)}break;default:break}}}else{var $container=$('<div style="color:#B91516;">无此文书的关联信息！</div>')}return $container},BuildPromptHtml:function(url,prompt){var html=' <div class="content_tool_common">';html=html+" <div class=\"content_info_common\" ><a target='_blank' href="+url+">"+prompt+"</a></div>";html=html+" </div>";return $(html)},BindEvent:function(){$(".right .attribute .relation").toggle(function(){$(this).attr("class","arelation tool_dir_common");$(".attribute .infor").show(100)},function(){$(this).attr("class","relation tool_dir_common");$(".attribute .infor").hide(100)})}};$.fn.ContentRelation=function(jsonData){var plugin=$(this).data("divTool_Relation");if(typeof plugin=="undefined"||null==plugin){plugin=new Params(this,jsonData);plugin.Init();$(this).data("divTool_Relation",plugin)}return plugin}})(jQuery,window,document);